# اختبار وظيفة Watchlist

## خطوات الاختبار:

### 1. إعداد السيرفر
```bash
# تأكد من أن السيرفر يعمل على المنفذ 3000
# ويمتلك النقاط النهائية التالية:
# GET /watchlist
# POST /watchlist
# DELETE /watchlist/:id
# GET /watchlist/check/:id
# POST /watchlist/toggle
```

### 2. اختبار إضافة فيلم للـ Watchlist
1. افتح التطبيق
2. اذهب إلى صفحة الأفلام الرئيسية
3. اضغط على أيقونة القلب في أي بطاقة فيلم
4. يجب أن يتغير لون القلب إلى الأحمر
5. اذهب إلى صفحة Watchlist
6. يجب أن ترى الفيلم الذي أضفته

### 3. اختبار إزالة فيلم من الـ Watchlist
1. في صفحة Watchlist، اضغط على القلب مرة أخرى
2. يجب أن يختفي الفيلم من القائمة
3. اذهب إلى صفحة الأفلام الرئيسية
4. يجب أن يكون القلب فارغاً (غير محبب)

### 4. اختبار حالة الفيلم في صفحة التفاصيل
1. اذهب إلى صفحة تفاصيل أي فيلم
2. اضغط على القلب في أعلى الصفحة
3. يجب أن يتغير لون القلب
4. اذهب إلى Watchlist للتأكد من حفظ الفيلم

## رسائل التأكيد في Console:

### عند الإضافة:
```
Movie added to watchlist
```

### عند الإزالة:
```
Movie removed from watchlist
```

### عند تحديث Watchlist:
```
Watchlist updated successfully
```

## إذا لم يعمل النظام:

### 1. تحقق من السيرفر:
```bash
# تأكد من أن السيرفر يعمل
curl http://localhost:3000/watchlist
```

### 2. تحقق من Console:
- افتح Developer Tools (F12)
- اذهب إلى تبويب Console
- ابحث عن أي أخطاء

### 3. تحقق من Network:
- في Developer Tools، اذهب إلى تبويب Network
- اضغط على القلب
- تأكد من أن الطلب يذهب إلى السيرفر

## إصلاح المشاكل الشائعة:

### مشكلة: القلب لا يتغير لونه
**الحل**: تحقق من أن `isLiked` يتم تحديثه بشكل صحيح

### مشكلة: الفيلم لا يظهر في Watchlist
**الحل**: تحقق من أن السيرفر يستقبل البيانات بشكل صحيح

### مشكلة: خطأ في Network
**الحل**: تأكد من أن السيرفر يعمل على المنفذ 3000 