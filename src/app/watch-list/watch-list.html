<h1>Watch list</h1>
<div class="container mt-4">
  @if (loading) {
    <div class="text-center py-5">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3">Loading watchlist...</p>
    </div>
  }
  @if (error) {
    <div class="text-center py-5">
      <div class="alert alert-danger" role="alert">
        {{ error }}
      </div>
      <button class="btn btn-primary" (click)="loadWatchlist()">Try Again</button>
    </div>
  }

     @if (!loading && !error && movies.length === 0) {
     <div class="simple-empty-container">
       <div class="simple-empty-icon">
         <i class="fas fa-heart"></i>
       </div>
       <h3 class="simple-empty-title">No movies in watch list</h3>
       <button class="simple-empty-button" routerLink="/" (click)="goHome()">
         Back to Home
       </button>
     </div>
   }

  <!-- Movies grid -->
  @if (!loading && !error && movies.length > 0) {
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      @for (movie of movies; track movie.id) {
        <div class="col mb-4">
          <app-media-card
            [title]="movie.title"
            [date]="formatDate(movie.release_date)"
            [rating]="getRatingPercentage(movie.vote_average)"
            [imageUrl]="getImageUrl(movie.poster_path)"
            [id]="movie.id"
            [movie]="movie"
            [isLiked]="true">
          </app-media-card>
        </div>
      }
    </div>
  }
</div>